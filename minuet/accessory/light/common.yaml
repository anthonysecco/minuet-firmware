# PACKAGE COLLECTION: MINUET LIGHT ACCESSORY COMMON DECLARATIONS
#
# Do not include this package directly.
minuet_light_common:
  # Pin definitions
  substitutions:
    minuet_light_pin_data: ${minuet_pin_acc2}
    minuet_light_pin_power: ${minuet_pin_acc3}

  # Inject event handlers for keypad usage
  esphome:
    includes:
      - minuet/accessory/light/common.h
    on_boot:
      - priority: 500
        then:
        - lambda: |-
            id(minuet_keypad_accessory_toggle) = []() -> bool {
              minuet::accessory::light::toggle(id(minuet_light));
              return true;
            };

            id(minuet_keypad_accessory_up) = []() -> bool {
              minuet::accessory::light::change_brightness(id(minuet_light), 1);
              return true;
            };

            id(minuet_keypad_accessory_down) = []() -> bool {
              minuet::accessory::light::change_brightness(id(minuet_light), -1);
              return true;
            };

            id(minuet_ir_control_accessory_nec) = [](esphome::remote_base::NECData code) {
              minuet::accessory::light::apply_nec_code(id(minuet_light), code);
            };
